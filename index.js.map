{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["// import { fetchData } from \"./js/pixabay-api\";\n// import { options } from \"./js/pixabay-api\";\nimport axios from \"axios\"\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet inputData = \"\";\n\nconst options = {\n    params: {\n        key: \"49358798-a0fde913d86352b572e9384bf\",\n        q: \"\",\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n        }\n};\n\nconst formData = document.querySelector(\".form\");\nconst formInput = document.querySelector(\"input\");\nconst galleryList = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nformData.addEventListener(\"submit\", formSubmit);\nformInput.addEventListener(\"input\", onInput);\n// document.addEventListener(\"DOMContentLoaded\", () => {\n//     loader.classList.add(\"hidden\");\n// });\n\nfunction onInput(event) {\n    inputData = event.target.value.trim();\n};\n\nfunction formSubmit(event) {\n    event.preventDefault();\n    console.log(\"Форма відправлена, додаємо лоадер...\"); ///\n    const form = event.currentTarget;\n\n    if (inputData === \"\") {\n         iziToast.show({\n                message: 'Fill in the search field!',\n                messageColor: 'white',\n                iconUrl: './img/cancel-circle.svg',\n                position: 'topRight',\n                color: '#ef4040',\n            });\n        return;\n    }\n\n    options.params.q = inputData;\n\n    galleryList.innerHTML = \"\";\nconsole.log(\"Показуємо лоадер\"); ///\n    loader.classList.remove(\"hidden\");\n\n    fetchData(options).then(images => {\n        galleryList.insertAdjacentHTML(\"beforeend\", markupImg(images));\n        gallery.refresh();\n    })\n        .finally(() => {\n        console.log(\"Приховуємо лоадер\"); ///\n           loader.classList.add(\"hidden\");\n       })\n\n    form.reset();\n    inputData = \"\";\n}\n\n\nlet gallery = new SimpleLightbox('.gallery a', { captionsData: \"alt\", captionDelay: 250 });\n\nfunction fetchData(options) {\n   return axios.get(`https://pixabay.com/api/?`, options)\n       .then((response) => {\n           if (!response.data?.hits?.length) {\n               throw new Error(\"Sorry, there are no images matching your search query. Please try again!\");\n           }\n           return response.data.hits;\n       })\n       .catch((error) => {\n           iziToast.show({\n                message: `${error.message}`,\n                messageColor: 'white',\n                iconUrl: './img/cancel-circle.svg',\n                position: 'topRight',\n                color: '#ef4040',\n           });\n           return [];\n       })\n    \n}\n\nfunction markupImg(cards) {\n  return cards\n  .map(card => {\n    return `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${card.largeImageURL}\">\n    <img\n    class=\"gallery-image\"\n    src=\"${card.webformatURL}\"\n    alt=\"${card.tags}\"\n    />\n    </a>\n    <div class=\"item-subtitle\">\n    <p class=\"item-text\"><b>Likes</b> ${card.likes}</p>\n    <p class=\"item-text\"><b>Views</b> ${card.views}</p>\n    <p class=\"item-text\"><b>Comments</b> ${card.comments}</p>\n    <p class=\"item-text\"><b>Downloads</b> ${card.downloads}</p>\n    </div>\n    </li>`;\n  })\n  .join(\"\");\n}\n"],"names":["inputData","options","formData","formInput","galleryList","loader","formSubmit","onInput","event","form","iziToast","fetchData","images","markupImg","gallery","SimpleLightbox","axios","response","_b","_a","error","cards","card"],"mappings":"owBAQA,IAAIA,EAAY,GAEhB,MAAMC,EAAU,CACZ,OAAQ,CACJ,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EACX,CACT,EAEMC,EAAW,SAAS,cAAc,OAAO,EACzCC,EAAY,SAAS,cAAc,OAAO,EAC1CC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAS,SAAS,cAAc,SAAS,EAE/CH,EAAS,iBAAiB,SAAUI,CAAU,EAC9CH,EAAU,iBAAiB,QAASI,CAAO,EAK3C,SAASA,EAAQC,EAAO,CACpBR,EAAYQ,EAAM,OAAO,MAAM,KAAI,CACvC,CAEA,SAASF,EAAWE,EAAO,CACvBA,EAAM,eAAc,EACpB,QAAQ,IAAI,sCAAsC,EAClD,MAAMC,EAAOD,EAAM,cAEnB,GAAIR,IAAc,GAAI,CACjBU,EAAS,KAAK,CACP,QAAS,4BACT,aAAc,QACd,QAAS,0BACT,SAAU,WACV,MAAO,SACvB,CAAa,EACL,MACH,CAEDT,EAAQ,OAAO,EAAID,EAEnBI,EAAY,UAAY,GAC5B,QAAQ,IAAI,kBAAkB,EAC1BC,EAAO,UAAU,OAAO,QAAQ,EAEhCM,EAAUV,CAAO,EAAE,KAAKW,GAAU,CAC9BR,EAAY,mBAAmB,YAAaS,EAAUD,CAAM,CAAC,EAC7DE,EAAQ,QAAO,CACvB,CAAK,EACI,QAAQ,IAAM,CACf,QAAQ,IAAI,mBAAmB,EAC5BT,EAAO,UAAU,IAAI,QAAQ,CACxC,CAAQ,EAEJI,EAAK,MAAK,EACVT,EAAY,EAChB,CAGA,IAAIc,EAAU,IAAIC,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,EAEzF,SAASJ,EAAUV,EAAS,CACzB,OAAOe,EAAM,IAAI,4BAA6Bf,CAAO,EAChD,KAAMgB,GAAa,SAChB,GAAI,GAACC,GAAAC,EAAAF,EAAS,OAAT,YAAAE,EAAe,OAAf,MAAAD,EAAqB,QACtB,MAAM,IAAI,MAAM,0EAA0E,EAE9F,OAAOD,EAAS,KAAK,IAChC,CAAQ,EACA,MAAOG,IACJV,EAAS,KAAK,CACT,QAAS,GAAGU,EAAM,OAAO,GACzB,aAAc,QACd,QAAS,0BACT,SAAU,WACV,MAAO,SACvB,CAAY,EACM,GACV,CAER,CAEA,SAASP,EAAUQ,EAAO,CACxB,OAAOA,EACN,IAAIC,GACI;AAAA,oCACyBA,EAAK,aAAa;AAAA;AAAA;AAAA,WAG3CA,EAAK,YAAY;AAAA,WACjBA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA,wCAIoBA,EAAK,KAAK;AAAA,wCACVA,EAAK,KAAK;AAAA,2CACPA,EAAK,QAAQ;AAAA,4CACZA,EAAK,SAAS;AAAA;AAAA,UAGvD,EACA,KAAK,EAAE,CACV"}